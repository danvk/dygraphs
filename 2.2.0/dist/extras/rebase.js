"use strict";

/**
 * @license
 * Copyright 2015 Petr Shevtsov (petr.shevtsov@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 *
 * Rebase plugin
 *
 * On pan/zoom event, each series will rebase to a specified value (e.g. 100) at the
 * start of the displayed period.
 *
 * See http://stats.oecd.org/glossary/detail.asp?ID=2249
 *
 * Options:
 *  Value to rebase. Must be either Number or 'percent' or null.
 *
 * See tests/straw-broom.html for demo.
 */

/*global Dygraph:false */

(function () {
  "use strict";

  // Matches DefaultHandler.parseFloat
  var parseFloat = function parseFloat(val) {
    if (val === null) return NaN;
    return val;
  };
  Dygraph.DataHandlers.RebaseHandler = function (baseOpt) {
    this.baseOpt = baseOpt;
  };
  var RebaseHandler = Dygraph.DataHandlers.RebaseHandler;
  RebaseHandler.prototype = new Dygraph.DataHandlers.DefaultHandler();
  RebaseHandler.rebase = function (value, initial, base) {
    if (base === "percent") {
      return (value / initial - 1) * 100;
    }
    return value * base / initial;
  };
  RebaseHandler.prototype.getExtremeYValues = function (series, dateWindow, stepPlot) {
    var minY = null,
      maxY = null,
      y;
    var firstIdx = 0,
      lastIdx = series.length - 1;
    var initial = series[firstIdx][1];
    for (var j = firstIdx; j <= lastIdx; j++) {
      if (j === firstIdx) {
        y = this.baseOpt === "percent" ? 0 : this.baseOpt;
      } else {
        y = RebaseHandler.rebase(series[j][1], initial, this.baseOpt);
      }
      if (y === null || isNaN(y)) continue;
      if (maxY === null || y > maxY) {
        maxY = y;
      }
      if (minY === null || y < minY) {
        minY = y;
      }
    }
    return [minY, maxY];
  };
  RebaseHandler.prototype.seriesToPoints = function (series, setName, boundaryIdStart) {
    var points = [];
    var firstIdx = 0;
    var lastIdx = series.length - 1;
    var initial = series[firstIdx][1]; // TODO: check for null
    for (var i = 0; i <= lastIdx; ++i) {
      var item = series[i];
      var yraw = item[1];
      var yval = yraw === null ? null : parseFloat(yraw);
      if (yval !== null) {
        if (i === firstIdx) {
          yval = this.baseOpt === "percent" ? 0 : this.baseOpt;
        } else {
          yval = RebaseHandler.rebase(yval, initial, this.baseOpt);
        }
      }
      var point = {
        x: NaN,
        y: NaN,
        xval: parseFloat(item[0]),
        yval: yval,
        name: setName,
        idx: i + boundaryIdStart
      };
      points.push(point);
    }
    this.onPointsCreated_(series, points);
    return points;
  };
  Dygraph.Plugins.Rebase = function () {
    var rebase = function rebase(baseOpt) {
      var isNum = function isNum(v) {
        return !isNaN(v) && (typeof v === 'number' || {}.toString.call(v) === '[object Number]');
      };
      if (baseOpt === "percent" || isNum(baseOpt)) {
        this.baseOpt_ = baseOpt;
      } else {
        this.baseOpt_ = null;
      }
    };
    rebase.prototype.toString = function () {
      return "Rebase Plugin";
    };
    rebase.prototype.activate = function (g) {
      if (this.baseOpt_ === null) {
        return;
      }
      return {
        predraw: this.predraw
      };
    };
    rebase.prototype.predraw = function (e) {
      var g = e.dygraph;
      if (this.baseOpt_ === "percent") {
        g.updateOptions({
          axes: {
            y: {
              axisLabelFormatter: function axisLabelFormatter(y) {
                return y + '%';
              },
              valueFormatter: function valueFormatter(y) {
                return Math.round(y * 100) / 100 + '%';
              }
            }
          }
        }, true);
      }
      g.dataHandler_ = new Dygraph.DataHandlers.RebaseHandler(this.baseOpt_);
    };
    return rebase;
  }();
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXJzZUZsb2F0IiwidmFsIiwiTmFOIiwiRHlncmFwaCIsIkRhdGFIYW5kbGVycyIsIlJlYmFzZUhhbmRsZXIiLCJiYXNlT3B0IiwicHJvdG90eXBlIiwiRGVmYXVsdEhhbmRsZXIiLCJyZWJhc2UiLCJ2YWx1ZSIsImluaXRpYWwiLCJiYXNlIiwiZ2V0RXh0cmVtZVlWYWx1ZXMiLCJzZXJpZXMiLCJkYXRlV2luZG93Iiwic3RlcFBsb3QiLCJtaW5ZIiwibWF4WSIsInkiLCJmaXJzdElkeCIsImxhc3RJZHgiLCJsZW5ndGgiLCJqIiwiaXNOYU4iLCJzZXJpZXNUb1BvaW50cyIsInNldE5hbWUiLCJib3VuZGFyeUlkU3RhcnQiLCJwb2ludHMiLCJpIiwiaXRlbSIsInlyYXciLCJ5dmFsIiwicG9pbnQiLCJ4IiwieHZhbCIsIm5hbWUiLCJpZHgiLCJwdXNoIiwib25Qb2ludHNDcmVhdGVkXyIsIlBsdWdpbnMiLCJSZWJhc2UiLCJpc051bSIsInYiLCJ0b1N0cmluZyIsImNhbGwiLCJiYXNlT3B0XyIsImFjdGl2YXRlIiwiZyIsInByZWRyYXciLCJlIiwiZHlncmFwaCIsInVwZGF0ZU9wdGlvbnMiLCJheGVzIiwiYXhpc0xhYmVsRm9ybWF0dGVyIiwidmFsdWVGb3JtYXR0ZXIiLCJNYXRoIiwicm91bmQiLCJkYXRhSGFuZGxlcl8iXSwic291cmNlcyI6WyIuLi8uLi9zcmMvZXh0cmFzL3JlYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNSBQZXRyIFNoZXZ0c292IChwZXRyLnNoZXZ0c292QGdtYWlsLmNvbSlcbiAqIE1JVC1saWNlbmNlZDogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBSZWJhc2UgcGx1Z2luXG4gKlxuICogT24gcGFuL3pvb20gZXZlbnQsIGVhY2ggc2VyaWVzIHdpbGwgcmViYXNlIHRvIGEgc3BlY2lmaWVkIHZhbHVlIChlLmcuIDEwMCkgYXQgdGhlXG4gKiBzdGFydCBvZiB0aGUgZGlzcGxheWVkIHBlcmlvZC5cbiAqXG4gKiBTZWUgaHR0cDovL3N0YXRzLm9lY2Qub3JnL2dsb3NzYXJ5L2RldGFpbC5hc3A/SUQ9MjI0OVxuICpcbiAqIE9wdGlvbnM6XG4gKiAgVmFsdWUgdG8gcmViYXNlLiBNdXN0IGJlIGVpdGhlciBOdW1iZXIgb3IgJ3BlcmNlbnQnIG9yIG51bGwuXG4gKlxuICogU2VlIHRlc3RzL3N0cmF3LWJyb29tLmh0bWwgZm9yIGRlbW8uXG4gKi9cblxuLypnbG9iYWwgRHlncmFwaDpmYWxzZSAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gTWF0Y2hlcyBEZWZhdWx0SGFuZGxlci5wYXJzZUZsb2F0XG4gIHZhciBwYXJzZUZsb2F0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gbnVsbCkgcmV0dXJuIE5hTjtcbiAgICByZXR1cm4gdmFsO1xuICB9O1xuXG4gIER5Z3JhcGguRGF0YUhhbmRsZXJzLlJlYmFzZUhhbmRsZXIgPSBmdW5jdGlvbihiYXNlT3B0KSB7XG4gICAgdGhpcy5iYXNlT3B0ID0gYmFzZU9wdDtcbiAgfTtcblxuICB2YXIgUmViYXNlSGFuZGxlciA9ICBEeWdyYXBoLkRhdGFIYW5kbGVycy5SZWJhc2VIYW5kbGVyO1xuICBSZWJhc2VIYW5kbGVyLnByb3RvdHlwZSA9IG5ldyBEeWdyYXBoLkRhdGFIYW5kbGVycy5EZWZhdWx0SGFuZGxlcigpO1xuXG4gIFJlYmFzZUhhbmRsZXIucmViYXNlID0gZnVuY3Rpb24odmFsdWUsIGluaXRpYWwsIGJhc2UpIHtcbiAgICBpZiAoYmFzZSA9PT0gXCJwZXJjZW50XCIpIHtcbiAgICAgIHJldHVybiAodmFsdWUgLyBpbml0aWFsIC0gMSkgKiAxMDA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSAqIGJhc2UgLyBpbml0aWFsO1xuICB9O1xuXG4gIFJlYmFzZUhhbmRsZXIucHJvdG90eXBlLmdldEV4dHJlbWVZVmFsdWVzID0gZnVuY3Rpb24oc2VyaWVzLCBkYXRlV2luZG93LCBzdGVwUGxvdCkge1xuICAgIHZhciBtaW5ZID0gbnVsbCwgbWF4WSA9IG51bGwsIHk7XG4gICAgdmFyIGZpcnN0SWR4ID0gMCwgbGFzdElkeCA9IHNlcmllcy5sZW5ndGggLSAxO1xuICAgIHZhciBpbml0aWFsID0gc2VyaWVzW2ZpcnN0SWR4XVsxXTtcblxuICAgIGZvciAodmFyIGogPSBmaXJzdElkeDsgaiA8PSBsYXN0SWR4OyBqKyspIHtcbiAgICAgIGlmIChqID09PSBmaXJzdElkeCkge1xuICAgICAgICB5ID0gKHRoaXMuYmFzZU9wdCA9PT0gXCJwZXJjZW50XCIpID8gMCA6IHRoaXMuYmFzZU9wdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHkgPSBSZWJhc2VIYW5kbGVyLnJlYmFzZShzZXJpZXNbal1bMV0sIGluaXRpYWwsIHRoaXMuYmFzZU9wdCk7XG4gICAgICB9XG4gICAgICBpZiAoeSA9PT0gbnVsbCB8fCBpc05hTih5KSlcbiAgICAgICAgY29udGludWU7XG4gICAgICBpZiAobWF4WSA9PT0gbnVsbCB8fCB5ID4gbWF4WSkge1xuICAgICAgICBtYXhZID0geTtcbiAgICAgIH1cbiAgICAgIGlmIChtaW5ZID09PSBudWxsIHx8IHkgPCBtaW5ZKSB7XG4gICAgICAgIG1pblkgPSB5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gWyBtaW5ZLCBtYXhZIF07XG4gIH07XG5cbiAgUmViYXNlSGFuZGxlci5wcm90b3R5cGUuc2VyaWVzVG9Qb2ludHMgPSBmdW5jdGlvbihzZXJpZXMsIHNldE5hbWUsIGJvdW5kYXJ5SWRTdGFydCl7XG4gICAgdmFyIHBvaW50cyA9IFtdO1xuICAgIHZhciBmaXJzdElkeCA9IDA7XG4gICAgdmFyIGxhc3RJZHggPSBzZXJpZXMubGVuZ3RoIC0gMTtcbiAgICB2YXIgaW5pdGlhbCA9IHNlcmllc1tmaXJzdElkeF1bMV07IC8vIFRPRE86IGNoZWNrIGZvciBudWxsXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGFzdElkeDsgKytpKSB7XG4gICAgICB2YXIgaXRlbSA9IHNlcmllc1tpXTtcbiAgICAgIHZhciB5cmF3ID0gaXRlbVsxXTtcbiAgICAgIHZhciB5dmFsID0geXJhdyA9PT0gbnVsbCA/IG51bGwgOiBwYXJzZUZsb2F0KHlyYXcpO1xuICAgICAgaWYgKHl2YWwgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGkgPT09IGZpcnN0SWR4KSB7XG4gICAgICAgICAgeXZhbCA9ICh0aGlzLmJhc2VPcHQgPT09IFwicGVyY2VudFwiKSA/IDAgOiB0aGlzLmJhc2VPcHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeXZhbCA9IFJlYmFzZUhhbmRsZXIucmViYXNlKHl2YWwsIGluaXRpYWwsIHRoaXMuYmFzZU9wdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBwb2ludCA9IHtcbiAgICAgICAgeDogTmFOLFxuICAgICAgICB5OiBOYU4sXG4gICAgICAgIHh2YWw6IHBhcnNlRmxvYXQoaXRlbVswXSksXG4gICAgICAgIHl2YWw6IHl2YWwsXG4gICAgICAgIG5hbWU6IHNldE5hbWUsXG4gICAgICAgIGlkeDogaSArIGJvdW5kYXJ5SWRTdGFydFxuICAgICAgfTtcbiAgICAgIHBvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG4gICAgdGhpcy5vblBvaW50c0NyZWF0ZWRfKHNlcmllcywgcG9pbnRzKTtcbiAgICByZXR1cm4gcG9pbnRzO1xuICB9O1xuXG4gIER5Z3JhcGguUGx1Z2lucy5SZWJhc2UgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlYmFzZSA9IGZ1bmN0aW9uKGJhc2VPcHQpIHtcbiAgICAgIHZhciBpc051bSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuICFpc05hTih2KSAmJiAodHlwZW9mIHYgPT09ICdudW1iZXInIHx8IHt9LnRvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IE51bWJlcl0nKTtcbiAgICAgIH07XG4gICAgICBpZiAoYmFzZU9wdCA9PT0gXCJwZXJjZW50XCIgfHwgaXNOdW0oYmFzZU9wdCkpIHtcbiAgICAgICAgdGhpcy5iYXNlT3B0XyA9IGJhc2VPcHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJhc2VPcHRfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmViYXNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiUmViYXNlIFBsdWdpblwiO1xuICAgIH07XG5cbiAgICByZWJhc2UucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oZykge1xuICAgICAgaWYgKHRoaXMuYmFzZU9wdF8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlZHJhdzogdGhpcy5wcmVkcmF3XG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZWJhc2UucHJvdG90eXBlLnByZWRyYXcgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZyA9IGUuZHlncmFwaDtcblxuICAgICAgaWYgKHRoaXMuYmFzZU9wdF8gPT09IFwicGVyY2VudFwiKSB7XG4gICAgICAgIGcudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgYXhlczoge1xuICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICBheGlzTGFiZWxGb3JtYXR0ZXI6IGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geSArICclJztcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdmFsdWVGb3JtYXR0ZXI6IGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh5ICogMTAwKSAvIDEwMCArICclJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGcuZGF0YUhhbmRsZXJfID0gbmV3IER5Z3JhcGguRGF0YUhhbmRsZXJzLlJlYmFzZUhhbmRsZXIodGhpcy5iYXNlT3B0Xyk7XG4gICAgfTtcblxuICAgIHJldHVybiByZWJhc2U7XG4gIH0pKCk7XG59KSgpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyxZQUFXO0VBRVYsWUFBWTs7RUFFWjtFQUNBLElBQUlBLFVBQVUsR0FBRyxTQUFiQSxVQUFVLENBQVlDLEdBQUcsRUFBRTtJQUM3QixJQUFJQSxHQUFHLEtBQUssSUFBSSxFQUFFLE9BQU9DLEdBQUc7SUFDNUIsT0FBT0QsR0FBRztFQUNaLENBQUM7RUFFREUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLGFBQWEsR0FBRyxVQUFTQyxPQUFPLEVBQUU7SUFDckQsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87RUFDeEIsQ0FBQztFQUVELElBQUlELGFBQWEsR0FBSUYsT0FBTyxDQUFDQyxZQUFZLENBQUNDLGFBQWE7RUFDdkRBLGFBQWEsQ0FBQ0UsU0FBUyxHQUFHLElBQUlKLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDSSxjQUFjLEVBQUU7RUFFbkVILGFBQWEsQ0FBQ0ksTUFBTSxHQUFHLFVBQVNDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUU7SUFDcEQsSUFBSUEsSUFBSSxLQUFLLFNBQVMsRUFBRTtNQUN0QixPQUFPLENBQUNGLEtBQUssR0FBR0MsT0FBTyxHQUFHLENBQUMsSUFBSSxHQUFHO0lBQ3BDO0lBQ0EsT0FBT0QsS0FBSyxHQUFHRSxJQUFJLEdBQUdELE9BQU87RUFDL0IsQ0FBQztFQUVETixhQUFhLENBQUNFLFNBQVMsQ0FBQ00saUJBQWlCLEdBQUcsVUFBU0MsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtJQUNqRixJQUFJQyxJQUFJLEdBQUcsSUFBSTtNQUFFQyxJQUFJLEdBQUcsSUFBSTtNQUFFQyxD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