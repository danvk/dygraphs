<!DOCTYPE html>
<html>
  <head>
    <title>Temperatures with Range Selector</title>
    <!--[if IE]>
    <script type="text/javascript" src="../excanvas.js"></script>
    <![endif]-->
    <!--
    For production (minified) code, use:
    <script type="text/javascript" src="dygraph-combined.js"></script>
    -->
    <script type="text/javascript" src="../dygraph-dev.js"></script>
    <script type="text/javascript" src="data.js"></script>
    <style type='text/css'>

     .dygraph-label{ 
         font-family:"arial";
         font-size  :11px;
         font-weight:normal;
         color      :#000;
      }
    
     .dygraph-axis-label-x { 
         font-family:"arial";
         font-size  :10px;
         font-weight:normal;
         color      :grey;
      }
      .dygraph-axis-label-x:before { 
         content  :"|";
         font-size:7px;
         display  :block;
         color:black;
      }

      .dygraph-axis-label-y { 
         font-family:"arial";
         font-size  :10px;
         font-weight:normal;
         color      :grey;
      }


       
    </style>

  </head>
  <body>
    <style>
    </style>

    <div id="chart1" style="width:90%; height:290px;"></div>
    <br/><br/><br/>
    <div id="chart2" style="width:90%; height:290px;"></div>
    <script type="text/javascript">
      g1 = new Dygraph(
          document.getElementById("chart1"),
          data_mars,
          {
            customBars: false,
            title: 'Latency - Read Vs Write',
            labels: [ "Time", "Read Latency", "Write Latency" ],
            ylabel: 'Time (ms)',
            legend: 'always',
            labelsDivStyles: { 'textAlign': 'right' },
            xAxisHeight: 30,
            drawXGrid:false,
            drawYGrid:false,
            labelsDivStyles: {
                "backgroundColor":"#FFFFFF",
                "border":"1px solid #006ACB",
                "borderRadius":"2px",
                "boxShadow":"1px 1px 4px #CCCCCC",
                "fontFamily":"Lucida Grande , Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif",
                "fontSize":"11px",
                "fontWeight":"normal",
                "opacity":"0.85",
                "padding":"3px",
                "width":"100px"
              },
            showRangeSelector: true,
            rangeSelectorHeight: 25,
            labelsDivWidth: 140,
            labelsSeparateLines:true,
            labelsFollowSelection:true,
            labelsFollowAlign:'top',
            verticalCrosshair:true,

          axes: {
              x: {
                valueFormatter: function(ms) {
                
                   var d = new Date(ms),o;
                   
                   if ( d.getHours()==0 && d.getMinutes()==0 &&  d.getSeconds()==0){
                      o = {year: "numeric", month: "short", day: "numeric"};
                   }
                   else{
                      o = {year: "numeric", month: "short", day: "numeric", hour:'numeric', minute:'numeric', second:'numeric'};
                   }
                   return d.toLocaleDateString(undefined, o);
                   //return new Date(ms).strftime('%Y-%m-%d');
                },
                
                axisLabelFormatter: function(d, gran) {
                    var o;
                    if (gran >= Dygraph.DECADAL)        { o = {year: "numeric"}; } 
                    else if (gran >= Dygraph.MONTHLY)   { o = {year: "numeric", month: "short"}; } 
                    else {
                        var frac = d.getHours() + d.getMinutes() + d.getSeconds() + d.getMilliseconds();
                        if   (frac === 0 || gran >= Dygraph.DAILY) {
                            o = {month: "short", day: "numeric"};
                        } 
                        else { 
                            o = {hour:'numeric', minute:'numeric', second:'numeric'}; 
                            return '' + d.toLocaleTimeString(undefined, o);
                        }
                      }
                    return '' + d.toLocaleDateString(undefined, o);
                }
              }
            }
        }    
      );
      g2 = new Dygraph(
          document.getElementById("chart2"),
          data_mars,
          {
            customBars: false,
            title: 'Latency - Read Vs Write',
            labels: [ "Time", "Read Latency", "Write Latency" ],
            ylabel: 'Time (ms)',
            legend: 'always',
            labelsDivStyles: { 'textAlign': 'right' },
            xAxisHeight: 30,
            drawXGrid:false,
            drawYGrid:false,
            labelsDivStyles: {
                "backgroundColor":"#FFFFFF",
                "border":"1px solid #006ACB",
                "borderRadius":"2px",
                "boxShadow":"1px 1px 4px #CCCCCC",
                "fontFamily":"Lucida Grande , Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif",
                "fontSize":"11px",
                "fontWeight":"normal",
                "opacity":"0.85",
                "padding":"3px",
                "width":"100px"
              },
            showRangeSelector: true,
            rangeSelectorHeight: 25,
            labelsDivWidth: 140,
            labelsSeparateLines:true,
            labelsFollowSelection:true,
            labelsFollowAlign:'middle',
            verticalCrosshair:true,

          axes: {
              x: {
                valueFormatter: function(ms) {
                
                   var d = new Date(ms),o;
                   
                   if ( d.getHours()==0 && d.getMinutes()==0 &&  d.getSeconds()==0){
                      o = {year: "numeric", month: "short", day: "numeric"};
                   }
                   else{
                      o = {year: "numeric", month: "short", day: "numeric", hour:'numeric', minute:'numeric', second:'numeric'};
                   }
                   return d.toLocaleDateString(undefined, o);
                   //return new Date(ms).strftime('%Y-%m-%d');
                },
                
                axisLabelFormatter: function(d, gran) {
                    var o;
                    if (gran >= Dygraph.DECADAL)        { o = {year: "numeric"}; } 
                    else if (gran >= Dygraph.MONTHLY)   { o = {year: "numeric", month: "short"}; } 
                    else {
                        var frac = d.getHours() + d.getMinutes() + d.getSeconds() + d.getMilliseconds();
                        if   (frac === 0 || gran >= Dygraph.DAILY) {
                            o = {month: "short", day: "numeric"};
                        } 
                        else { 
                            o = {hour:'numeric', minute:'numeric', second:'numeric'}; 
                            return '' + d.toLocaleTimeString(undefined, o);
                        }
                      }
                    return '' + d.toLocaleDateString(undefined, o);
                }
              }
            }
        }    
      );

    </script>
  </body>
</html>
