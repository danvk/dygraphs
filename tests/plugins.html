<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7; IE=EmulateIE9">
    <title>plugins demo</title>
    <!--[if IE]>
    <script type="text/javascript" src="../excanvas.js"></script>
    <![endif]-->
    <script type="text/javascript" src="../dygraph-dev.js"></script>

    <!-- Include the Javascript for the plug-in -->
    <script type="text/javascript" src="../extras/unzoom.js"></script>
    <script type="text/javascript" src="../extras/guidelines.js"></script>
  </head>
  <body>
    <h2>Plugins Demo</h2>
    <table><tr><td>
    <div id="demodiv"></div>
    </td><td valign=top>
    <div id="status" style="width:200px; font-size:0.8em; padding-top:5px;"></div>
    </td>
    </tr></table>
    <script type="text/javascript">
      var data = function() {
        var zp = function(x) { if (x < 10) return "0"+x; else return x; };
        var r = "date,parabola,line,another line,sine wave\n";
        for (var i=1; i<=31; i++) {
          r += "200610" + zp(i);
          r += "," + 10*(i*(31-i));
          r += "," + 10*(8*i);
          r += "," + 10*(250 - 8*i);
          r += "," + 10*(125 + 125 * Math.sin(0.3*i));
          r += "\n";
        }
        return r;
      };

   values = [ 500, 1000, 1500, 2000, 2500 ];
   color = [ "black", "blue", "red", "green", "orange" ];
   styler = function(ctx, g, value, idx) {
     if (value > 1250) {
       if (ctx.setLineDash) {
         ctx.setLineDash([5, 5]);
       }
     }
   };


      g = new Dygraph(
              document.getElementById("demodiv"),
              data,
              {
                labelsDiv: document.getElementById('status'),
                labelsSeparateLines: true,
                labelsKMB: true,
                legend: 'always',
                colors: ["rgb(51,204,204)",
                         "rgb(255,100,100)",
                         "#00DD55",
                         "rgba(50,50,200,0.4)"],
                width: 640,
                height: 480,
                title: 'Interesting Shapes',
                xlabel: 'Date',
                ylabel: 'Count',
                axisLineColor: 'white',

                // Set the plug-ins in the options.
                plugins : [
                  Dygraph.Plugins.Unzoom,
                  Dygraph.Plugins.Unzoom,
                  Dygraph.Plugins.Guidelines(values, color, styler)
                ]
              }
          );
    </script>
</body>
</html>
